# 烂笔头APP需求文档 - 完整版

## 📋 基础信息
- **项目名称**：烂笔头APP
- **项目类型**：纯血鸿蒙应用
- **核心功能**：笔记记录、定时提醒、分类管理、思维导图生成
- **设计风格**：简洁现代
- **支持模式**：深色/浅色模式切换

## ✨ 核心功能需求

### 1. 📝 随时间记录文本
- **功能描述**：按时间顺序记录笔记内容
- **需求细节**：
  - ✅ 支持富文本编辑（粗体、斜体、下划线、列表、图片等）
  - ✅ 支持Markdown格式
  - ✅ 支持语音转文字输入
  - ✅ 支持离线记录
  - ✅ 支持手写输入（可选，可使用系统原生API）

### 2. ⏰ 定时提醒功能
- **功能描述**：为特定笔记设置提醒时间
- **需求细节**：
  - ✅ 系统通知+震动+声音提醒
  - ✅ 支持重复提醒（每日、每周、每月、自定义间隔）
  - ✅ 支持设置提醒优先级
  - ✅ 支持日历应用集成
  - ✅ 支持批量设置提醒
  - ✅ 支持提醒历史记录

### 3. 🗂️ 日记分类功能
- **功能描述**：对笔记进行分类管理
- **需求细节**：
  - ✅ 无限创建自定义分类
  - ✅ 支持多级分类（子分类）
  - ✅ 支持标签系统（一个笔记多个标签）
  - ✅ 支持分类颜色标记
  - ✅ 支持批量移动笔记到不同分类
  - ✅ 支持按分类统计笔记数量

### 4. 🧠 思维导图生成
- **功能描述**：根据笔记内容自动生成思维导图
- **需求细节**：
  - ✅ 自动从笔记中提取关键词生成
  - ✅ 支持手动编辑思维导图结构
  - ✅ 支持导出思维导图为图片、PDF、SVG等格式
  - ✅ 支持与笔记实时同步更新
  - ✅ 支持导入外部思维导图文件
  - ✅ 支持协作编辑思维导图（可选）

## 🎨 UI/UX需求
- ✅ 支持深色/浅色模式切换
- ✅ 支持多设备同步（云同步）
- ✅ 支持手势操作（滑动、捏合缩放等）
- ✅ 简洁现代的界面风格
- ✅ 支持国际化（中文/英文）

## 🔒 安全需求
- ✅ 笔记加密功能（密码/生物识别）
- ✅ 备份恢复功能
- ✅ 云同步功能（本地+云端存储）
- ✅ 数据导出（JSON、CSV、TXT、Markdown）

## 📊 性能需求
- ✅ 离线模式支持
- ✅ 快速启动（<2秒）
- ✅ 低电量优化
- ✅ 响应式设计（适配不同屏幕尺寸）

## 📅 进度需求
- **第一阶段**：核心功能（笔记记录、分类管理、提醒）
- **第二阶段**：思维导图功能
- **第三阶段**：云同步和高级功能

---

## 📱 页面架构设计

### 1. 首页（时间线视图）
- 按时间顺序显示笔记卡片
- 支持滑动切换模式（时间线/网格）
- 快速添加笔记入口
- 搜索栏（支持关键词搜索）
- 分类筛选标签

### 2. 笔记详情页
- 富文本编辑器
- Markdown实时预览
- 标签管理
- 分类选择
- 定时提醒设置
- 分享和导出功能
- 思维导图生成入口

### 3. 分类管理页
- 分类树状视图
- 分类创建/编辑/删除
- 分类颜色设置
- 分类统计
- 笔记批量管理

### 4. 思维导图页
- 自动生成思维导图
- 手动编辑功能
- 节点样式自定义
- 导出功能
- 与笔记同步

### 5. 云同步页
- 账户登录/注册
- 同步状态显示
- 备份管理
- 数据恢复

### 6. 设置页
- 深色/浅色模式切换
- 通知设置
- 密码/生物识别设置
- 数据管理（导出、清理）
- 应用信息

---

## 🛠️ 技术架构设计

### 1. 技术栈（已确认）
- **开发语言**：ArkTS + ArkUI
- **本地存储**：KV存储（轻量、快速；后续必要时补充索引结构）
- **云同步**：先本地，后续扩展云同步
- **富文本/Markdown**：编辑器支持富文本，内部保存为Markdown
- **思维导图**：自研轻量思维导图（基础节点/层级/连线）
- **语音识别**：华为语音服务
- **通知**：鸿蒙通知服务
- **数据加密**：AES-256 + 密码 + 生物识别双方案

### 2. 数据结构（KV模型）
- **notes/{id}**：{ id, title, contentMd, createdAt, updatedAt, categoryId, tagIds[], reminderId?, mood?, attachments? }
- **categories/{id}**：{ id, name, parentId?, color, order }
- **tags/{id}**：{ id, name, color?, order }
- **reminders/{id}**：{ id, noteId, time, repeatRule, priority, enabled }
- **settings**：{ theme, encryption, sync, notification }

---

## 🚀 开发计划

### 第一阶段（核心功能）
- 项目基础框架搭建
- 笔记记录功能实现
- 分类管理功能实现
- 定时提醒功能实现
- 本地数据存储
- 基础UI和深色模式

### 第二阶段（思维导图功能）
- 思维导图引擎集成
- 自动生成算法实现
- 手动编辑功能
- 导出和分享功能

### 第三阶段（云同步和高级功能）
- 账户系统和云存储
- 数据同步实现
- 笔记加密功能
- 语音识别集成
- 性能优化和测试