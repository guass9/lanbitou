# 烂笔头APP需求文档 - 确认版

## 📋 基础信息
- **项目名称**：烂笔头APP
- **项目类型**：纯血鸿蒙应用（仅鸿蒙手机）
- **核心功能**：笔记记录、全局定时提醒、分类管理、思维导图生成
- **设计风格**：简洁现代
- **支持模式**：深色/浅色模式切换

## ✨ 核心功能需求

### 1. 📝 随时间记录文本（富文本）
- **功能描述**：按时间顺序记录笔记内容
- **需求细节**：
  - ✅ 必须支持富文本编辑（粗体、斜体、下划线、列表、图片等）
  - ✅ 内部保存为 Markdown 格式（便于导出/转换）
  - ✅ 支持离线记录

### 2. ⏰ 全局定时提醒功能
- **功能描述**：支持设置全局提醒（不必须绑定某条笔记）
- **需求细节**：
  - ✅ 系统通知 + 震动 + 声音提醒
  - ✅ 支持重复提醒（每日/每周/每月/自定义间隔）
  - ✅ 支持提醒列表与管理（新增/编辑/删除/启用/停用）

### 3. 🗂️ 日记分类功能
- **功能描述**：对笔记进行分类管理
- **需求细节**：
  - ✅ 支持多级分类（子分类）
  - ✅ 支持标签系统（一个笔记多个标签）
  - ✅ 支持分类颜色标记
  - ✅ 支持按分类筛选

### 4. 🧠 思维导图生成
- **功能描述**：根据笔记内容生成思维导图
- **需求细节**：
  - ✅ 支持手动编辑思维导图结构
  - ✅ 支持导出思维导图（格式不限，能导出即可）

### 5. 📤 导出功能
- **功能描述**：导出笔记与导图
- **需求细节**：
  - ✅ 笔记导出（Markdown/PDF/图片至少支持其一，可扩展）
  - ✅ 思维导图导出（格式不限）

---

## 📱 页面架构设计

### 1. 首页（时间线视图）
- 按时间顺序显示笔记卡片
- 快速添加笔记入口
- 搜索栏（支持关键词搜索）
- 分类/标签筛选

### 2. 笔记详情页
- 富文本编辑器
- 标签管理
- 分类选择
- 导出功能入口
- 思维导图入口

### 3. 分类管理页
- 分类树状视图
- 分类创建/编辑/删除
- 分类颜色设置

### 4. 思维导图页
- 思维导图生成与编辑
- 导出功能

### 5. 提醒管理页
- 全局提醒列表
- 提醒创建/编辑/删除/启用/停用

### 6. 设置页
- 深色/浅色模式切换
- 通知设置
- 数据管理（导出）
- 应用信息

---

## 🛠️ 技术架构设计（确认范围）

- **开发语言**：ArkTS + ArkUI
- **本地存储**：KV存储
- **富文本**：富文本编辑器 + 内部保存为 Markdown
- **思维导图**：轻量自研（基础节点/层级/连线）
- **通知**：鸿蒙通知服务
- **同步**：首版不做云同步

### 数据结构（KV模型）
- **notes/{id}**：{ id, title, contentMd, createdAt, updatedAt, categoryId, tagIds[] }
- **categories/{id}**：{ id, name, parentId?, color, order }
- **tags/{id}**：{ id, name, color?, order }
- **reminders/{id}**：{ id, title, time, repeatRule, enabled }
- **settings**：{ theme, notification }

---

## 📅 进度需求（基于确认范围）
- **第一阶段**：核心功能（笔记记录、分类管理、全局提醒）
- **第二阶段**：思维导图功能
- **第三阶段**：导出功能与体验优化
